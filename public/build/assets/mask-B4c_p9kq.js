import{r as W}from"./vendor-hWGb-EVB.js";var E={exports:{}},V;function T(){return V||(V=1,(function(D,J){(function(n,x,I){typeof Meteor>"u"?D.exports=n(W()):n(x||I)})(function(n){var x=function(t,s,o){var a={invalid:[],getCaret:function(){try{var r,i=0,e=t.get(0),c=document.selection,u=e.selectionStart;return c&&navigator.appVersion.indexOf("MSIE 10")===-1?(r=c.createRange(),r.moveStart("character",-a.val().length),i=r.text.length):(u||u==="0")&&(i=u),i}catch{}},setCaret:function(r){try{if(t.is(":focus")){var i,e=t.get(0);e.setSelectionRange?e.setSelectionRange(r,r):(i=e.createTextRange(),i.collapse(!0),i.moveEnd("character",r),i.moveStart("character",r),i.select())}}catch{}},events:function(){t.on("keydown.mask",function(r){t.data("mask-keycode",r.keyCode||r.which),t.data("mask-previus-value",t.val()),t.data("mask-previus-caret-pos",a.getCaret()),a.maskDigitPosMapOld=a.maskDigitPosMap}).on(n.jMaskGlobals.useInput?"input.mask":"keyup.mask",a.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){t.keydown().keyup()},100)}).on("change.mask",function(){t.data("changed",!0)}).on("blur.mask",function(){g!==a.val()&&!t.data("changed")&&t.trigger("change"),t.data("changed",!1)}).on("blur.mask",function(){g=a.val()}).on("focus.mask",function(r){o.selectOnFocus===!0&&n(r.target).select()}).on("focusout.mask",function(){o.clearIfNotMatch&&!M.test(a.val())&&a.val("")})},getRegexMask:function(){for(var r=[],i,e,c,u,d,h,v=0;v<s.length;v++)i=f.translation[s.charAt(v)],i?(e=i.pattern.toString().replace(/.{1}$|^.{1}/g,""),c=i.optional,u=i.recursive,u?(r.push(s.charAt(v)),d={digit:s.charAt(v),pattern:e}):r.push(!c&&!u?e:e+"?")):r.push(s.charAt(v).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return h=r.join(""),d&&(h=h.replace(new RegExp("("+d.digit+"(.*"+d.digit+")?)"),"($1)?").replace(new RegExp(d.digit,"g"),d.pattern)),new RegExp(h)},destroyEvents:function(){t.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(r){var i=t.is("input"),e=i?"val":"text",c;return arguments.length>0?(t[e]()!==r&&t[e](r),c=t):c=t[e](),c},calculateCaretPosition:function(r){var i=a.getMasked(),e=a.getCaret();if(r!==i){var c=t.data("mask-previus-caret-pos")||0,u=i.length,d=r.length,h=0,v=0,k=0,p=0,l=0;for(l=e;l<u&&a.maskDigitPosMap[l];l++)v++;for(l=e-1;l>=0&&a.maskDigitPosMap[l];l--)h++;for(l=e-1;l>=0;l--)a.maskDigitPosMap[l]&&k++;for(l=c-1;l>=0;l--)a.maskDigitPosMapOld[l]&&p++;if(e>d)e=u*10;else if(c>=e&&c!==d){if(!a.maskDigitPosMapOld[e]){var y=e;e-=p-k,e-=h,a.maskDigitPosMap[e]&&(e=y)}}else e>c&&(e+=k-p,e+=v)}return e},behaviour:function(r){r=r||window.event,a.invalid=[];var i=t.data("mask-keycode");if(n.inArray(i,f.byPassKeys)===-1){var e=a.getMasked(),c=a.getCaret(),u=t.data("mask-previus-value")||"";return setTimeout(function(){a.setCaret(a.calculateCaretPosition(u))},n.jMaskGlobals.keyStrokeCompensation),a.val(e),a.setCaret(c),a.callbacks(r)}},getMasked:function(r,i){var e=[],c=i===void 0?a.val():i+"",u=0,d=s.length,h=0,v=c.length,k=1,p="push",l=-1,y=0,P=[],b,A;o.reverse?(p="unshift",k=-1,b=0,u=d-1,h=v-1,A=function(){return u>-1&&h>-1}):(b=d-1,A=function(){return u<d&&h<v});for(var G;A();){var C=s.charAt(u),w=c.charAt(h),m=f.translation[C];m?(w.match(m.pattern)?(e[p](w),m.recursive&&(l===-1?l=u:u===b&&u!==l&&(u=l-k),b===l&&(u-=k)),u+=k):w===G?(y--,G=void 0):m.optional?(u+=k,h-=k):m.fallback?(e[p](m.fallback),u+=k,h-=k):a.invalid.push({p:h,v:w,e:m.pattern}),h+=k):(r||e[p](C),w===C?(P.push(h),h+=k):(G=C,P.push(h+y),y++),u+=k)}var S=s.charAt(b);d===v+1&&!f.translation[S]&&e.push(S);var q=e.join("");return a.mapMaskdigitPositions(q,P,v),q},mapMaskdigitPositions:function(r,i,e){var c=o.reverse?r.length-e:0;a.maskDigitPosMap={};for(var u=0;u<i.length;u++)a.maskDigitPosMap[i[u]+c]=1},callbacks:function(r){var i=a.val(),e=i!==g,c=[i,r,t,o],u=function(d,h,v){typeof o[d]=="function"&&h&&o[d].apply(this,v)};u("onChange",e===!0,c),u("onKeyPress",e===!0,c),u("onComplete",i.length===s.length,c),u("onInvalid",a.invalid.length>0,[i,r,t,a.invalid,o])}};t=n(t);var f=this,g=a.val(),M;s=typeof s=="function"?s(a.val(),void 0,t,o):s,f.mask=s,f.options=o,f.remove=function(){var r=a.getCaret();return f.options.placeholder&&t.removeAttr("placeholder"),t.data("mask-maxlength")&&t.removeAttr("maxlength"),a.destroyEvents(),a.val(f.getCleanVal()),a.setCaret(r),t},f.getCleanVal=function(){return a.getMasked(!0)},f.getMaskedVal=function(r){return a.getMasked(!1,r)},f.init=function(r){if(r=r||!1,o=o||{},f.clearIfNotMatch=n.jMaskGlobals.clearIfNotMatch,f.byPassKeys=n.jMaskGlobals.byPassKeys,f.translation=n.extend({},n.jMaskGlobals.translation,o.translation),f=n.extend(!0,{},f,o),M=a.getRegexMask(),r)a.events(),a.val(a.getMasked());else{o.placeholder&&t.attr("placeholder",o.placeholder),t.data("mask")&&t.attr("autocomplete","off");for(var i=0,e=!0;i<s.length;i++){var c=f.translation[s.charAt(i)];if(c&&c.recursive){e=!1;break}}e&&t.attr("maxlength",s.length).data("mask-maxlength",!0),a.destroyEvents(),a.events();var u=a.getCaret();a.val(a.getMasked()),a.setCaret(u)}},f.init(!t.is("input"))};n.maskWatchers={};var I=function(){var t=n(this),s={},o="data-mask-",a=t.attr("data-mask");if(t.attr(o+"reverse")&&(s.reverse=!0),t.attr(o+"clearifnotmatch")&&(s.clearIfNotMatch=!0),t.attr(o+"selectonfocus")==="true"&&(s.selectOnFocus=!0),R(t,a,s))return t.data("mask",new x(this,a,s))},R=function(t,s,o){o=o||{};var a=n(t).data("mask"),f=JSON.stringify,g=n(t).val()||n(t).text();try{return typeof s=="function"&&(s=s(g)),typeof a!="object"||f(a.options)!==f(o)||a.mask!==s}catch{}},K=function(t){var s=document.createElement("div"),o;return t="on"+t,o=t in s,o||(s.setAttribute(t,"return;"),o=typeof s[t]=="function"),s=null,o};n.fn.mask=function(t,s){s=s||{};var o=this.selector,a=n.jMaskGlobals,f=a.watchInterval,g=s.watchInputs||a.watchInputs,M=function(){if(R(this,t,s))return n(this).data("mask",new x(this,t,s))};return n(this).each(M),o&&o!==""&&g&&(clearInterval(n.maskWatchers[o]),n.maskWatchers[o]=setInterval(function(){n(document).find(o).each(M)},f)),this},n.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},n.fn.unmask=function(){return clearInterval(n.maskWatchers[this.selector]),delete n.maskWatchers[this.selector],this.each(function(){var t=n(this).data("mask");t&&t.remove().removeData("mask")})},n.fn.cleanVal=function(){return this.data("mask").getCleanVal()},n.applyDataMask=function(t){t=t||n.jMaskGlobals.maskElements;var s=t instanceof n?t:n(t);s.filter(n.jMaskGlobals.dataMaskAttr).each(I)};var j={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&K("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};n.jMaskGlobals=n.jMaskGlobals||{},j=n.jMaskGlobals=n.extend(!0,{},j,n.jMaskGlobals),j.dataMask&&n.applyDataMask(),setInterval(function(){n.jMaskGlobals.watchDataMask&&n.applyDataMask()},j.watchInterval)},window.jQuery,window.Zepto)})(E)),E.exports}export{T as r};
